<div class="stats-grid">
  <div class="stat-card">
    <div class="stat-label">Total Views (All Time)</div>
    <div class="stat-value">{{.TotalViews}}</div>
  </div>
  <div class="stat-card">
    <div class="stat-label">Views Today</div>
    <div class="stat-value">{{.TodayViews}}</div>
  </div>
  <div class="stat-card">
    <div class="stat-label">Published Posts</div>
    <div class="stat-value">{{.TotalPosts}}</div>
  </div>
</div>

{{if .PostMetrics}}
<div class="section">
  <h2 class="section-title">Posts by View Count</h2>
  <table class="data-table">
    <thead>
      <tr>
        <th>#</th>
        <th>Post</th>
        <th>Total Views</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {{$i := 0}}
      {{range .PostMetrics}}
      {{$i = inc $i}}
      <tr>
        <td class="muted">{{$i}}</td>
        <td>{{.Title}}</td>
        <td><strong>{{.ViewCount}}</strong></td>
        <td><a href="/posts/{{.Slug}}" target="_blank" class="table-link">View â†—</a></td>
      </tr>
      {{end}}
    </tbody>
  </table>
</div>
{{end}}

{{if .RecentViews}}
<div class="section">
  <h2 class="section-title">Daily Views (Last 30 days)</h2>
  <div class="chart-container">
    <div class="bar-chart" id="viewChart" data-views='{{jsonViews .RecentViews}}'></div>
  </div>
</div>
{{end}}
